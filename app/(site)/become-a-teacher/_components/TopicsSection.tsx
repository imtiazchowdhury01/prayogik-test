// @ts-nocheck
"use client";

import { Button } from "@/components/ui/button";
import { textLangChecker } from "@/lib/utils/textLangChecker";
import { ArrowRight, CheckCircle, Search } from "lucide-react";
import Image from "next/image";
import Link from "next/link";
import { useState } from "react";
import courseCategoryImage from "public/course-proposals/category-section.webp";

const TopicsSection = () => {
  const [activeCategory, setActiveCategory] = useState("digital-marketing");
  const [topicCat, settopicCat] = useState("");

  const categories = [
    {
      id: "digital-marketing",
      name: "‡¶°‡¶ø‡¶ú‡¶ø‡¶ü‡¶æ‡¶≤ ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï‡ßá‡¶ü‡¶ø‡¶Ç & SEO",
      icon: "üöÄ",
      image: "/placeholder.svg",
    },
    {
      id: "ecommerce",
      name: "‡¶á-‡¶ï‡¶Æ‡¶æ‡¶∞‡ßç‡¶∏ ‡¶ì ‡¶°‡ßç‡¶∞‡¶™‡¶∂‡¶ø‡¶™‡¶ø‡¶Ç",
      icon: "üõí",
      image: "/placeholder.svg",
    },
    {
      id: "copywriting",
      name: "‡¶ï‡¶™‡¶ø‡¶∞‡¶æ‡¶á‡¶ü‡¶ø‡¶Ç ‡¶ì ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï‡ßá‡¶ü‡¶ø‡¶Ç",
      icon: "‚úçÔ∏è",
      image: "/placeholder.svg",
    },
    {
      id: "data-analytics",
      name: "‡¶°‡¶æ‡¶ü‡¶æ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶®‡¶æ‡¶≤‡¶ø‡¶ü‡¶ø‡¶ï‡ßç‡¶∏",
      icon: "üìä",
      image: "/placeholder.svg",
    },
    {
      id: "business",
      name: "‡¶¨‡¶ø‡¶ú‡¶®‡ßá‡¶∏ ‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ü‡ßá‡¶ú‡¶ø ‡¶ì ‡¶ó‡ßç‡¶∞‡ßã‡¶•",
      icon: "üìà",
      image: "/placeholder.svg",
    },
  ];

  const topicsByCategory = {
    "digital-marketing": [
      "LinkedIn Ads",
      "Facebook Ads",
      "Google Ads",
      "SEO",
      "Link Building",
      "Local SEO",
      "Shopify SEO",
      "Parasite SEO",
      "Guest Posting",
      "Digital PR",
      "Content Strategy",
      "Email Marketing",
      "Social Media Management",
      "Influencer Marketing",
    ],
    ecommerce: [
      "Amazon FBA",
      "Dropshipping",
      "Print on Demand",
      "Dropshipping Facebook Ad Strategy",
      "Dropshipping Facebook UGC Ad Creation",
      "Shopify Store Setup",
      "Product Research",
      "Inventory Management",
      "Customer Service",
    ],
    copywriting: [
      "LinkedIn Copywriting",
      "Landing Page Copy",
      "1-Page Marketing Plan",
      "Authority First Content Creation",
      "Linkable Content Creation",
      "Interview Content Creation",
      "Email Copywriting",
      "Sales Page Copywriting",
    ],
    "data-analytics": [
      "Google Analytics",
      "Mastering SERP Analysis",
      "PPC Fundamentals",
      "SaaS GTM Strategy",
      "Data Visualization",
      "Excel for Marketers",
      "Marketing ROI Analysis",
    ],
    business: [
      "Cold Outreach",
      "LinkedIn Outreach",
      "Twitter Lead Generation",
      "Topical Authority",
      "Make Money with SEO",
      "Become a Media Buyer",
      "Business Model Canvas",
      "Pricing Strategy",
    ],
  };

  // Find the active category object
  const activeCategory_obj = categories.find(
    (cat) => cat.id === activeCategory
  );

  return (
    <section
      id="topics"
      className="w-full bg-white py-12 md:py-16 lg:py-24 xl:py-32"
    >
      <div className="app-container">
        <div className="mb-6 sm:mb-8 md:mb-10 lg:mb-12">
          <div className="space-y-3 sm:space-y-4">
            <h2 className="course-proposal-heading">
              ‡¶ï‡ßã‡¶® ‡¶∏‡ßç‡¶ï‡¶ø‡¶≤ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶ó‡¶∞‡¶ø‡¶§‡ßá ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶π‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá?
            </h2>
            <p className="course-proposal-description max-w-5xl text-sm sm:text-base md:text-lg">
              ‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶®‡¶§ ‡¶Ö‡¶®‡¶≤‡¶æ‡¶á‡¶® ‡¶è‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶™‡ßç‡¶∞‡ßá‡¶®‡¶ø‡¶Ø‡¶º‡¶æ‡¶∞‡¶∂‡¶ø‡¶™ ‡¶ì ‡¶°‡¶ø‡¶ú‡¶ø‡¶ü‡¶æ‡¶≤ ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï‡ßá‡¶ü‡¶ø‡¶Ç
              ‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶ó‡¶∞‡¶ø‡¶§‡ßá‡¶á ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶´‡ßã‡¶ï‡¶æ‡¶∏‡•§ ‡¶§‡¶¨‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶ö‡¶æ‡¶á‡¶≤‡ßá ‡¶∏‡ßç‡¶ï‡¶ø‡¶≤ ‡¶°‡ßá‡¶≠‡ßá‡¶≤‡¶™‡¶Æ‡ßá‡¶®‡ßç‡¶ü,
              ‡¶ï‡ßç‡¶Ø‡¶æ‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ó‡¶†‡¶®, ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡¶æ, ‡¶ï‡¶ø‡¶Ç‡¶¨‡¶æ ‡¶Ø‡ßá‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡ßÉ‡¶ú‡¶®‡¶∂‡ßÄ‡¶≤ ‡¶¶‡¶ï‡ßç‡¶∑‡¶§‡¶æ ‡¶®‡¶ø‡¶Ø‡¶º‡ßá
              ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶π‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®‡•§ ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶∏‡¶¨‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶è‡¶Æ‡¶® ‡¶¨‡¶ø‡¶∑‡¶Ø‡¶º ‡¶ñ‡ßÅ‡¶Å‡¶ú‡¶õ‡¶ø ‡¶Ø‡ßá‡¶ó‡ßÅ‡¶≤‡ßã
              ‡¶¨‡¶æ‡¶∏‡ßç‡¶§‡¶¨ ‡¶ú‡ßÄ‡¶¨‡¶®‡ßá ‡¶ï‡¶æ‡¶ú‡ßá ‡¶≤‡¶æ‡¶ó‡ßá ‡¶ì ‡¶§‡¶∞‡ßÅ‡¶£‡¶¶‡ßá‡¶∞ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶∞‡ßá ‡¶¨‡¶æ‡¶∏‡ßç‡¶§‡¶¨ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶Ü‡¶®‡ßá‡•§
            </p>
          </div>
        </div>

        {/* category and search bar container */}
        <div className="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 lg:gap-8 mb-6 sm:mb-8 md:mb-10">
          {/* Category Tabs */}
          <div className="flex flex-wrap justify-center lg:justify-start gap-2 sm:gap-3">
            {categories.map((category) => (
              <button
                key={category.id}
                onClick={() => {
                  setActiveCategory(category.id);
                  settopicCat("");
                }}
                className={`px-3 sm:px-4 py-2 sm:py-3 rounded-full text-xs sm:text-sm md:text-base font-medium transition-all duration-200 whitespace-nowrap ${
                  activeCategory === category.id
                    ? "bg-brand text-white shadow-md"
                    : "bg-gray-100 text-card-black-text hover:bg-brand/10 "
                }`}
              >
                {category.name}
              </button>
            ))}
          </div>

          {/* Search Bar */}
          <div className="relative">
            <div className="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
              <Search className="w-4 h-4 md:w-5 md:h-5 text-card-black-text" />
            </div>
            <input
              type="text"
              value={topicCat}
              onChange={(e) => settopicCat(e.target.value)}
              className="block w-full py-1 md:py-3 pl-10 pr-3 bg-gray-100 border rounded-full border-none focus:ring-0 focus:ring-none focus:border-none focus:outline-none placeholder:text-sm sm:placeholder:text-base"
              placeholder="‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶ü‡¶™‡¶ø‡¶ï ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®...."
            />
          </div>
        </div>

        {/* Category Image and Topics */}
        <div className="grid gap-4 sm:gap-6 md:gap-8 mb-8 sm:mb-10 md:mb-12 lg:grid-cols-5">
          {/* Left side - Category Image */}
          <div className="relative overflow-hidden rounded-xl lg:col-span-3 order-2 lg:order-1">
            <div className="w-full h-[250px] sm:h-[300px] md:h-[350px] lg:h-[400px] relative">
              <Image
                src={courseCategoryImage}
                alt={activeCategory_obj?.name || "Category image"}
                fill
                className="object-cover z-0"
                placeholder="blur"
                quality={75}
                priority
              />
              <div className="absolute left-0 bottom-0 right-0 bg-gradient-to-t from-tertiary-950/70 to-transparent h-[40%]"></div>
              <div className="absolute bottom-0 left-0 right-0 p-4 sm:p-6 text-white z-20">
                <div className="inline-block mb-2">
                  <span className="font-medium text-sm sm:text-base md:text-lg">
                    {activeCategory_obj?.name}
                  </span>
                </div>
                <p className="text-[#E6E7E7] text-xs sm:text-sm">
                  {activeCategory === "digital-marketing" &&
                    "‡¶°‡¶ø‡¶ú‡¶ø‡¶ü‡¶æ‡¶≤ ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï‡ßá‡¶ü‡¶ø‡¶Ç ‡¶ì SEO ‡¶¨‡¶ø‡¶∑‡¶Ø‡¶º‡ßá ‡¶¶‡¶ï‡ßç‡¶∑‡¶§‡¶æ ‡¶Ö‡¶∞‡ßç‡¶ú‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶Ö‡¶®‡¶≤‡¶æ‡¶á‡¶®‡ßá ‡¶∏‡¶´‡¶≤‡¶§‡¶æ ‡¶Ö‡¶∞‡ßç‡¶ú‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§"}
                  {activeCategory === "ecommerce" &&
                    "‡¶á-‡¶ï‡¶Æ‡¶æ‡¶∞‡ßç‡¶∏ ‡¶ì ‡¶°‡ßç‡¶∞‡¶™‡¶∂‡¶ø‡¶™‡¶ø‡¶Ç ‡¶è‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶Ö‡¶®‡¶≤‡¶æ‡¶á‡¶® ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§"}
                  {activeCategory === "copywriting" &&
                    "‡¶ï‡¶æ‡¶∞‡ßç‡¶Ø‡¶ï‡¶∞ ‡¶ï‡¶™‡¶ø‡¶∞‡¶æ‡¶á‡¶ü‡¶ø‡¶Ç ‡¶è‡¶¨‡¶Ç ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï‡ßá‡¶ü‡¶ø‡¶Ç ‡¶ï‡ßå‡¶∂‡¶≤ ‡¶∂‡¶ø‡¶ñ‡ßÅ‡¶® ‡¶Ø‡¶æ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ‡¶ï‡ßá ‡¶¨‡¶æ‡¶°‡¶º‡¶æ‡¶¨‡ßá‡•§"}
                  {activeCategory === "data-analytics" &&
                    "‡¶°‡¶æ‡¶ü‡¶æ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶®‡¶æ‡¶≤‡¶ø‡¶ü‡¶ø‡¶ï‡ßç‡¶∏ ‡¶è‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ‡¶Ø‡¶º‡¶ø‡¶ï ‡¶∏‡¶ø‡¶¶‡ßç‡¶ß‡¶æ‡¶®‡ßç‡¶§ ‡¶®‡¶ø‡¶§‡ßá ‡¶∂‡¶ø‡¶ñ‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ROI ‡¶¨‡¶æ‡¶°‡¶º‡¶æ‡¶®‡•§"}
                  {activeCategory === "business" &&
                    "‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ‡¶Ø‡¶º‡¶ø‡¶ï ‡¶ï‡ßå‡¶∂‡¶≤ ‡¶è‡¶¨‡¶Ç ‡¶¨‡ßÉ‡¶¶‡ßç‡¶ß‡¶ø‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®‡ßÄ‡¶Ø‡¶º ‡¶¶‡¶ï‡ßç‡¶∑‡¶§‡¶æ ‡¶Ö‡¶∞‡ßç‡¶ú‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§"}
                </p>
              </div>
            </div>
          </div>

          {/* Right side */}
          <div className="lg:col-span-2 order-1 lg:order-2">
            {/* Topics Cloud */}
            <div className="p-4 sm:p-6 rounded-[10px] border shadow-md h-full  lg:h-[400px] grid grid-rows-[auto_1fr_auto]">
              <h3 className="mb-3 sm:mb-4 md:mb-5 text-lg sm:text-xl font-bold text-card-black-text sticky top-0 bg-white pb-2">
                ‡¶ú‡¶®‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶ü‡¶™‡¶ø‡¶ï‡¶∏‡¶Æ‡ßÇ‡¶π
              </h3>

              {/* Topics container  */}
              <div className="overflow-y-auto">
                <div className="flex flex-wrap gap-2 sm:gap-3">
                  {topicsByCategory[activeCategory].map((topic, index) => {
                    if (!topic?.toLowerCase()?.includes(topicCat.toLowerCase()))
                      return;
                    return (
                      <div
                        key={index}
                        className="text-xs sm:text-sm px-3 sm:px-4 py-1.5 sm:py-2 transition-colors bg-white text-brand border rounded-full  border-brand/20 hover:bg-brand hover:text-white "
                      >
                        <p>{textLangChecker(topic)}</p>
                      </div>
                    );
                  })}
                </div>
              </div>

              {/* Button*/}
              <Link
                href="/course-ideas"
                className="flex items-center gap-1 text-brand mt-8 lg:mt-4 font-semibold"
              >
                <span className="block">‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶Ü‡¶á‡¶°‡¶ø‡¶Ø‡¶º‡¶æ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</span>
                <ArrowRight size={16} />
              </Link>
            </div>
          </div>
        </div>

        {/* CTA */}
        <div className="p-4 sm:p-6 md:p-7 rounded-mid border border-brand-accent bg-brand-accent text-card-black-text">
          <p className="text-sm sm:text-base">
            * ‡¶è‡¶á ‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶ó‡¶∞‡¶ø‡¶ó‡ßÅ‡¶≤‡ßã ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£‡¶∏‡ßç‡¶¨‡¶∞‡ßÇ‡¶™ ‡¶â‡¶≤‡ßç‡¶≤‡ßá‡¶ñ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞
            ‡¶¶‡¶ï‡ßç‡¶∑‡¶§‡¶æ ‡¶ì ‡¶Ö‡¶≠‡¶ø‡¶ú‡ßç‡¶û‡¶§‡¶æ‡¶∞ ‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø‡¶§‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶ö‡¶æ‡¶á‡¶≤‡ßá ‡¶®‡¶§‡ßÅ‡¶® ‡¶¨‡¶ø‡¶∑‡¶Ø‡¶º‡¶ì ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡¶æ‡¶¨ ‡¶ï‡¶∞‡¶§‡ßá
            ‡¶™‡¶æ‡¶∞‡ßá‡¶®‡•§ ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶∏‡¶¨‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶á‡¶®-‡¶°‡¶ø‡¶Æ‡¶æ‡¶®‡ßç‡¶° ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶Æ‡¶Ø‡¶º‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶™‡ßç‡¶∞‡¶æ‡¶∏‡¶ô‡ßç‡¶ó‡¶ø‡¶ï (‡¶è‡¶≠‡¶æ‡¶∞‡¶ó‡ßç‡¶∞‡¶ø‡¶®)
            ‡¶∏‡ßç‡¶ï‡¶ø‡¶≤ ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡¶§‡ßá ‡¶Ü‡¶ó‡ßç‡¶∞‡¶π‡ßÄ‡•§
          </p>
        </div>
      </div>
    </section>
  );
};

export default TopicsSection;
